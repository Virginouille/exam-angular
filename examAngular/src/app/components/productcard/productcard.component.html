<div class="card h-100 shadow-sm">
    <div class="position-relative">
        <img class="card-img-top" [src]="article.image" [alt]="article.title"
            onerror="this.onerror=null;this.src='https://placehold.co/600x400/e9ecef/6c757d?text=Image+Indisponible';">
        @if (article.discountPercent > 0) {
        <span class="position-absolute top-0 end-0 bg-danger text-white badge rounded-pill m-2">
            -{{ article.discountPercent * 100 | number:'1.0-0' }}%
        </span>
        }
    </div>
    <div class="card-body d-flex flex-column">
        <h6 class="card-subtitle mb-2 text-muted text-uppercase small">{{ article.category }}</h6>
        <h5 class="card-title fw-bold">{{ article.title }}</h5>
        <p class="card-text small text-secondary flex-grow-1">{{ article.description }}</p>
        <div class="mt-3 text-end">
            @if (article.discountPercent > 0) {
            <span class="text-muted text-decoration-line-through me-2">{{ article.fullPrice | currency:'EUR' }}</span>
            <span class="fs-4 fw-bold text-primary">{{ article.fullPrice * (1 - article.discountPercent) |
                currency:'EUR' }}</span>
            } @else {
            <span class="fs-4 fw-bold text-dark">{{ article.fullPrice | currency:'EUR' }}</span>
            }
        </div>
    </div>
    <div class="card-footer bg-transparent border-0 p-3">
        <button (click)="onAddToCart()" class="btn btn-primary w-100 d-flex align-items-center justify-content-center">
            <span class="material-icons me-2"></span>
            Ajouter au panier
        </button>
    </div>
</div>